import{b as Q}from"./chunk-WE6SWOAN.js";import{$ as _,Aa as p,Ma as u,V as x,Za as c,aa as v,ba as S,eb as w,fb as k,gb as e,hb as r,ib as d,ma as g,mb as E,na as h,ob as l,pb as b,xa as I,xb as o,yb as s,zb as T}from"./chunk-4HQB7CNF.js";var f=class a{product=h.required();updateQuantity=g();removeItem=g();static \u0275fac=function(n){return new(n||a)};static \u0275cmp=u({type:a,selectors:[["app-cart-item"]],inputs:{product:[1,"product"]},outputs:{updateQuantity:"updateQuantity",removeItem:"removeItem"},decls:19,vars:7,consts:[[1,"flex","items-center","gap-4","p-4","bg-white","rounded-lg","shadow-sm"],[1,"w-20","h-20","object-cover","rounded",3,"src","alt"],[1,"flex-grow"],[1,"font-semibold"],[1,"font-medium"],[1,"flex","items-center","gap-4"],[1,"flex","items-center"],[1,"px-2","py-1","border","rounded-l","hover:bg-gray-100","disabled:opacity-50",3,"click","disabled"],["type","number","min","1",1,"w-12","text-center","border-y",3,"disabled","value"],[1,"px-2","py-1","border","rounded-r","hover:bg-gray-100",3,"click"],[1,"text-red-600","hover:text-red-700",3,"click"],[1,"sr-only"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(n,t){n&1&&(e(0,"div",0),d(1,"img",1),e(2,"div",2)(3,"h3",3),o(4),r(),e(5,"p",4),o(6),r()(),e(7,"div",5)(8,"div",6)(9,"button",7),l("click",function(){return t.updateQuantity.emit({quantity:t.product().quantity-1,productSlug:t.product().slug})}),o(10,"-"),r(),d(11,"input",8),e(12,"button",9),l("click",function(){return t.updateQuantity.emit({quantity:t.product().quantity+1,productSlug:t.product().slug})}),o(13,"+"),r()(),e(14,"button",10),l("click",function(){return t.removeItem.emit(t.product().slug)}),e(15,"span",11),o(16,"Rimuovi Prodotto"),r(),S(),e(17,"svg",12),d(18,"path",13),r()()()()),n&2&&(p(),c("src",t.product().imageUrl,I)("alt",t.product().name),p(3),s(t.product().name),p(2),T("Prezzo: ",t.product().price.toFixed(2),""),p(3),c("disabled",t.product().quantity<=1),p(2),c("disabled",!0)("value",t.product().quantity))},encapsulation:2})};var R=(a,i)=>i.slug;function D(a,i){if(a&1){let n=E();e(0,"app-cart-item",8),l("updateQuantity",function(m){_(n);let y=b();return v(y.onUpdateQuantity(m))})("removeItem",function(m){_(n);let y=b();return v(y.onRemoveItem(m))}),r()}if(a&2){let n=i.$implicit;c("product",n)}}function M(a,i){a&1&&(e(0,"p",2),o(1," Nessun prodotto trovato . "),r())}var C=class a{charityStore=x(Q);onUpdateQuantity({quantity:i,productSlug:n}){this.charityStore.updateCartItemQuantity(n,i)}onRemoveItem(i){this.charityStore.deleteItemFromCart(i)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=u({type:a,selectors:[["app-cart"]],decls:15,vars:2,consts:[[1,"space-y-4"],[3,"product"],[1,"col-span-full","text-center","text-gray-500","py-8"],[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-xl","font-semibold","mb-4"],[1,"space-y-3","mb-6"],[1,"flex","justify-between","font-semibold","text-lg","border-t","pt-3"],[1,"w-full","btn","btn-primary",3,"click"],[3,"updateQuantity","removeItem","product"]],template:function(n,t){n&1&&(e(0,"div",0),w(1,D,1,1,"app-cart-item",1,R,!1,M,2,0,"p",2),e(4,"div",3)(5,"h2",4),o(6,"Riepilogo Ordine"),r(),e(7,"div",5)(8,"div",6)(9,"span"),o(10,"Totale"),r(),e(11,"span"),o(12),r()()(),e(13,"button",7),l("click",function(){return null}),o(14," Procedere al checkout "),r()()()),n&2&&(p(),k(t.charityStore.cartProducts()),p(11),s(t.charityStore.totalPrice().toFixed(2)))},dependencies:[f],encapsulation:2})};var H=[{path:"",component:C}];export{H as CART_ROUTES};
