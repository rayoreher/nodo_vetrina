import{a as Z}from"./chunk-PMCVECKE.js";import{b as q,d as z}from"./chunk-3T6EODKH.js";import{Aa as P,Da as y,Ia as k,Ja as c,L as N,La as C,Ma as L,N as B,Na as V,Oa as D,Pa as o,Q as u,Qa as r,Ra as $,Sa as b,Ta as h,Ua as p,Va as W,W as _,Wa as a,X as v,Xa as T,Ya as A,a as G,b as j,c as g,fa as U,ga as d,kb as M,oa as H,pb as E,ra as s,wa as O,za as f}from"./chunk-2LUNKOFB.js";function K(e,i){if(e&1){let t=b();o(0,"app-card",4),h("buttonClick",function(){let l=_(t).$implicit,m=p(2);return v(m.router.navigate(["campaign",l.slug],{relativeTo:m.route}))}),r()}if(e&2){let t=i.$implicit;c("imageUrl",t.imageUrl)("title",t.name)("description",t.description)}}function J(e,i){e&1&&(o(0,"p",3),a(1," Nessun prodotto trovato . "),r())}function Q(e,i){e&1&&(o(0,"section")(1,"h2",0),a(2,"Campagne in Corso"),r(),o(3,"div",1),V(4,K,1,3,"app-card",2,L,!1,J,2,0,"p",3),r()()),e&2&&(s(4),D(i.campaigns))}var F=class e{router=u(z);route=u(q);charityStore=u(E);charitySlug=d.required();ngOnInit(){return g(this,null,function*(){this.charityStore.resetSelectedCampaign(),yield this.charityStore.loadCharityBySlug(this.charitySlug())})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-charity"]],inputs:{charitySlug:[1,"charitySlug"]},decls:1,vars:1,consts:[[1,"text-2xl","font-bold","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[3,"imageUrl","title","description"],[1,"col-span-full","text-center","text-gray-500","py-8"],[3,"buttonClick","imageUrl","title","description"]],template:function(t,n){if(t&1&&y(0,Q,7,1,"section"),t&2){let l;C((l=n.charityStore.selectedCharity())?0:-1,l)}},dependencies:[M,Z],encapsulation:2})};var ee={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Xe=j(G({},ee),{"[class.ng-submitted]":"isSubmitted"});var te=new B("CallSetDisabledState",{providedIn:"root",factory:()=>X}),X="always";var ne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=P({type:e});static \u0275inj=N({})}return e})();var S=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:te,useValue:t.callSetDisabledState??X}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=P({type:e});static \u0275inj=N({imports:[ne]})}return e})();function ie(e,i){if(e&1&&(o(0,"p",8),a(1),r()),e&2){let t=p();s(),A(" Stock - ",t.product().stock," ")}}var I=class e{product=d.required();onAddToCart=U();quantity=O(1);ngOnInit(){this.product().stock===0&&this.quantity.set(0)}buttonClick(i,t){this.quantity.set(1),this.onAddToCart.emit({productSlug:i,quantity:t})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},outputs:{onAddToCart:"onAddToCart"},decls:17,vars:11,consts:[[1,"card","h-full","flex","flex-col"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"p-4","flex-grow","flex","flex-col"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600","mb-4","flex-grow"],[1,"space-y-4"],[1,"grid","grid-cols-2"],[1,"text-2xl","font-bold"],[1,"text-2xl","font-bold","text-right"],[1,"flex","items-center","space-x-2"],[1,"sr-only",3,"for"],[1,"btn","btn-primary","flex-grow",3,"click","disabled"]],template:function(t,n){t&1&&(o(0,"div",0),$(1,"img",1),o(2,"div",2)(3,"h3",3),a(4),r(),o(5,"p",4),a(6),r(),o(7,"div",5)(8,"div",6)(9,"p",7),a(10),r(),y(11,ie,2,1,"p",8),r(),o(12,"div",9)(13,"label",10),a(14,"Quantity"),r(),o(15,"button",11),h("click",function(){return n.buttonClick(n.product().slug,n.quantity())}),a(16),r()()()()()),t&2&&(s(),c("src",n.product().imageUrl,H)("alt",n.product().name),s(3),T(n.product().name),s(2),T(n.product().description),s(4),A("$",n.product().price.toFixed(2),""),s(),C(n.product().stock!==0?11:-1),s(2),W("for","quantity-",n.product().slug,""),s(2),c("disabled",n.quantity()==0||n.product().stock==0),k("aria-label","Add "+n.quantity+" "+n.product.name+" to cart"),s(),A(" ",n.product().stock==0?"Esaurito":"Aggiungi al carrello"," "))},dependencies:[S],encapsulation:2})};var re=(e,i)=>i.slug;function oe(e,i){if(e&1){let t=b();o(0,"app-product-card",7),h("onAddToCart",function(l){_(t);let m=p();return v(m.onAddToCart(l))}),r()}if(e&2){let t=i.$implicit;c("product",t)}}function se(e,i){e&1&&(o(0,"p",6),a(1," Nessun prodotto trovato . "),r())}var x=class e{charityStore=u(E);charitySlug=d.required();campaignSlug=d.required();ngOnInit(){return g(this,null,function*(){yield this.charityStore.loadCampaignBySlug(this.charitySlug(),this.campaignSlug())})}onAddToCart(i){this.charityStore.addItemToCart(i.productSlug,i.quantity)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-campaign"]],inputs:{charitySlug:[1,"charitySlug"],campaignSlug:[1,"campaignSlug"]},decls:10,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"text-3xl","font-bold","mb-8"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-8"],[1,"lg:col-span-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[3,"product"],[1,"col-span-full","text-center","text-gray-500","py-8"],[3,"onAddToCart","product"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"h1",1),a(2,"Support Our Causes"),r(),o(3,"div",2)(4,"main",3)(5,"div",4),V(6,oe,1,1,"app-product-card",5,re,!1,se,2,0,"p",6),r(),a(9," ` "),r()()()),t&2&&(s(6),D(n.charityStore.filteredProducts()))},dependencies:[M,S,I],encapsulation:2})};var vt=[{path:":charitySlug",component:F},{path:":charitySlug/campaign/:campaignSlug",component:x}];export{vt as CHARITY_ROUTES};
